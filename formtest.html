<html>
<head>
</head>

<body>

<p>Name</p>
<input type="text" id="name-input" placeholder="Enter name here…" class="form-control">

<p>Email</p>
<input type="email" id="email-input" placeholder="Enter email here…" class="form-control">

<p>Message</p>
<textarea id="message-input" rows="3" placeholder="Enter your message…" class="form-control"></textarea><br/>

<button type="button">Submit</button>

<script>

  function sendMessage() {
    console.log('a');
    const xhr = new XMLHttpRequest();

    xhr.addEventListener('load', function(event) {
      alert('Yeah! Data sent and response loaded.');
    });

    xhr.addEventListener('error', function(event) {
      alert('Oops! Something went wrong.');
    });

    let data = {
      name: document.getElementById('name-input').value,
      email: document.getElementById('email-input').value,
      message: document.getElementById('message-input').value
    }

    xhr.open('POST', 'https://cxs5fa9xtc.execute-api.us-east-2.amazonaws.com/default/mailfwd');
    xhr.send(JSON.stringify(data));
  }

  const sendButton = document.querySelector('button');

  sendButton.addEventListener('click', function() {
    sendMessage();
  })

</script>

</body>
</html>

