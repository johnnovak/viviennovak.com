function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var fieldNames=["name","email","message"],inputElements={name:document.querySelector("#phone-input"),email:document.querySelector("#country-input"),message:document.querySelector("#comments-input")},errorElements={name:document.querySelector("#phone-error"),email:document.querySelector("#country-error"),message:document.querySelector("#comments-error")},validateAttr="data-validate",validClass="valid",debounceDelayMs=1e3,body=document.querySelector("body"),sendButton=document.querySelector("#submit"),contactModal=document.getElementById("contact-modal"),contactModalMsg=document.querySelector("#contact-modal > div > div"),closeModalButton=document.getElementById("close-modal"),postUrl="https://cxs5fa9xtc.execute-api.us-east-2.amazonaws.com/default/mailfwd",formFields=fieldNames.map(function(e){return inputElements[e]}),sending=!1;function isValidateField(e){return"1"==e.getAttribute(validateAttr)}function setValidateField(e){e.setAttribute(validateAttr,"1")}function getFormData(){var e={};return fieldNames.forEach(function(t){var a=inputElements[t];e[t]={text:a.value,validate:isValidateField(a)}}),e}var debounce=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:debounceDelayMs;return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];clearTimeout(t),t=setTimeout(function(){t=null,e.apply(void 0,n)},a)}};function validateEmail(e){return/\S+@\S+\.\S+/.test(e)}function validateFormData(e){function t(e,t){a.valid=!1,a.errors[e]=t}var a={errors:{}};fieldNames.forEach(function(e){return t(e,"")}),a.valid=!0;var r=0;return e.name.validate&&(r++,""==e.name.text.trim()?t("name","Please enter your name"):e.name.text.length<2&&t("name","Your name must be at least 2 characters long")),e.email.validate&&(r++,""==e.email.text.trim()?t("email","Please enter your email address"):validateEmail(e.email.text)||t("email","Please enter a valid email address")),e.message.validate&&(r++,""==e.message.text.trim()?t("message","Please enter your message"):e.message.text.length<50&&t("message","Your message must be at least 50 characters long")),a.allFieldsValidated=3==r,a}function updateValidationErrors(e){Object.entries(e.errors).forEach(function(e){var t=_slicedToArray(e,2),a=t[0],r=t[1],n=errorElements[a];n.style.display=""==r?"none":"block",n.innerText=r,n=inputElements[a],""==r?n.classList.remove("error"):n.classList.add("error")})}function resetForm(){sendButton.innerHTML="Contact Me",sendButton.classList.remove(validClass),formFields.forEach(function(e){e.value="",e.removeAttribute(validateAttr)}),sending=!1}function showModal(e){body.style.overflow="hidden",contactModal.style.display="flex",contactModalMsg.innerHTML=e}function closeModal(){body.style.overflow="visible",contactModal.style.display="none"}function sendMessage(e){var t=new XMLHttpRequest;t.addEventListener("load",function(){resetForm(),showModal('<p class="success-icon">&#xea10;</p><p>Your message has been sent.</p>')}),t.addEventListener("error",function(){resetForm(),showModal('<p class="error-icon">&#xea0f;</p><p>Your message could not be sent.<br>Please try again later.</p>')});var a=Object.fromEntries(Object.entries(e).map(function(e){var t=_slicedToArray(e,2);return[t[0],t[1].text]}));t.open("POST",postUrl),t.send(JSON.stringify(a))}function validate(){var e=validateFormData(getFormData());return updateValidationErrors(e),e.valid&&e.allFieldsValidated?sendButton.classList.add(validClass):sendButton.classList.remove(validClass),e}if(sendButton){var onScroll=function(){for(var e=window.scrollY,t=sections.length;--t&&e+200<sections[t].offsetTop;);menus.forEach(function(e){return e.classList.remove("sel")}),menus[t].classList.add("sel")};inputElements.name.setAttribute("placeholder","Your name"),inputElements.email.setAttribute("placeholder","Your email"),inputElements.message.setAttribute("placeholder","Your message"),sendButton.addEventListener("click",function(){sending||(sending=!0,formFields.forEach(setValidateField),validate().valid&&(sendButton.innerHTML='Sending message <div class="lds-ring"><div></div><div></div><div></div><div></div></div>',sendMessage(getFormData())))}),formFields.forEach(function(e){e.addEventListener("input",debounce(function(){setValidateField(e),validate()}))}),closeModalButton.addEventListener("click",function(){closeModal()}),formFields.forEach(function(e){""!=e.value&&setValidateField(e),validate()});var sections=document.querySelectorAll("h2"),menus=[document.querySelector("#private-sessions-menu"),document.querySelector("#donation-menu"),document.querySelector("#contact-menu"),document.querySelector("#contact-menu")];window.addEventListener("scroll",onScroll),onScroll()}var rellaxMinWidth=1020,showParallax=!1;function handleRellax(){document.documentElement.clientWidth>=rellaxMinWidth?(document.querySelector(".top-image img.parallax").style.display="block",document.querySelector(".top-image img.no-parallax").style.display="none"):(document.querySelector(".top-image img.parallax").style.display="none",document.querySelector(".top-image img.no-parallax").style.display="block")}window.addEventListener("resize",handleRellax),rellax=new Rellax(".top-image img.parallax"),handleRellax();
